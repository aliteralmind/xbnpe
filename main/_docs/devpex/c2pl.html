<HTML><HEAD>
	<TITLE>XBNPE: c2pl</TITLE>
	<meta name="viewport" content="width=device-width" />
</HEAD>

<BODY BGCOLOR="#FFFFFF" LINK="#0000FF" VLINK="#0000FF"><a name="top"></a>

<P>[<A HREF="../index.html#devpex">BACK</A>]<CODE> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </CODE><I>(XBN-PhraseExpress is released under the <A HREF="../index.html#lpgl">LPGL 2.1</A>)</I>

<HR/>

<H1>XBN-PhraseExpress: Phrase &quot;compression&quot;:</H1>
<H2><CODE>&quot;c2pl&quot;</CODE> and related utilities &nbsp; &nbsp; <I>(<CODE><A HREF="../devpex/xbnpe_ddmenus.html#xh">xh</A>pcc</CODE>)</I></H2>

<P>XBN-PhraseExpress is developed exclusively in text-files (and specifically in <A HREF="../basics/pex_in_textpad.html">TextPad</A>). To review, the final <A HREF="../basics/phrase_file.html#pformat">format</A> of most phrases is</P>

<P>&nbsp; &nbsp; <CODE>[description-autotext] -- rest of description[TAB]phrase-body[TAB]autotext</CODE></P>

<P>where the description-autotext is critical, and the autotext field itself is derived from it. An example:</P>

<PRE STYLE="background-color:#E1E1E1;">zPrintAnX -- Prints a lowercase 'x'	x	zPrintAnX</PRE>

<P>This one-line phrase is called &quot;compressed&quot;, and is ready for import into PhraseExpress. This is its &quot;un-compressed&quot; counterpart:</P>

<PRE STYLE="background-color:#E1E1E1;">zPrintAnX -- Prints a lowercase 'x'
x</PRE>

<P>which is easier to work with when actually composing phrases. This document walks through the devolpment process, as it relates to compression and uncompression.</P>

<A NAME="contents"/><P><B>Contents:</B><UL>
	<LI>[<A HREF="#one">go</A>]</CODE> &nbsp; Compression process with one phrase</LI>
	<LI>[<A HREF="#many">go</A>]</CODE> &nbsp; Compression process with many phrases</LI>
	<LI>[<A HREF="#dnensx">go</A>]</CODE> &nbsp; Additional issues when working with many phrases: <CODE>&quot;dnen[s,x]&quot;</CODE></LI>
</UL></P>

<P><I>All avaliable compression-related actions, including the full available <A HREF="../generic/phrase_set_syntax.html">syntax</A>, are listed in the phrase-creator ddmenu: <CODE><A HREF="../devpex/xbnpe_ddmenus.html#xh">xh</A>pcc</CODE>. Also note that all functions in this document <A HREF="../tasks/ww_with_state.html#stateprompt">prompt the user for word-wrap state</A>.</I></P>
xhpcc
<PRE>

<HR/>

</PRE>
<a name="one"/><H2><CODE>[<A HREF="#contents">BACK</A>]</CODE> &nbsp; Compression process with one phrase</CODE></H2>

<P>Take this two-line (&quot;uncompressed&quot;) phrase:</P>

<PRE STYLE="background-color:#E1E1E1;">zPrintAnX -- Prints a lowercase 'x'
x</PRE>

<P><I>(See phrase-format <A HREF="../basics/phrase_file.html#pformat">specifications</A>)</I></P>

<H3>Compression: <CODE>&quot;c2pl&quot;</CODE></H3>

<P>Place the cursor in line one and execute <CODE>&quot;c2pl&quot;</CODE> (type <CODE>&quot;c2pl&quot;</CODE>, and its configured postfix, which by default is the accent key: <CODE>'<B>`</B>'</CODE>--<CODE>zACCENT</CODE>), and it is &quot;compressed&quot; into one-line (delimited by tabs):</P>

<PRE STYLE="background-color:#E1E1E1;">zPrintAnX -- Prints a lowercase 'x'	x	zPrintAnX</PRE>

<P>The two-line format is easier to read and edit. The one-line format is required for <A HREF="../basics/phrase_file_import1.html">importing</A> it into PhraseExpress.</P>

<H3>Uncompression: <CODE>&quot;u2pl&quot;</CODE></H3>

Place the cursor anywhere in the one-line version, and execute <CODE>&quot;u2pl&quot;</CODE>. This converts it back to the two-line version.

<H3>Re-compression: <CODE>&quot;r2pl&quot;</CODE></H3>

<P>As stated at the <A HREF="#top">top</A> of this document, the description-autotext is critical, and the autotext field is derived from it. If you make a change to the description-autotext</P>

<PRE STYLE="background-color:#E1E1E1;">zPrintALowerX -- Prints a lowercase 'x'	x	zPrintAnX</PRE>

<P>it can be duplicated to the autotext field by either<UL>
	<LI>Uncompressing and then compressing again, or by</LI>
	<LI>recompressing, by placing the cursor in the one-line phrase, and executing <CODE>&quot;r2pl&quot;</CODE>.</LI>
</UL></P>



<PRE>

<HR/>

</PRE>
<a name="many"/><H2><CODE>[<A HREF="#contents">BACK</A>]</CODE> &nbsp; Compression process with many phrases</CODE></H2>

<P>Take these five uncompressed (two-line) phrases:</P>

<PRE STYLE="background-color:#E1E1E1;">zPrintAnX -- Prints a lowercase 'x'
x
zPrintALowerX -- zPrintAnX ALT KC
{#insert zPrintAnX}
zPrintXsWPrompt -- # determined by user-prompt
{#LOOP {#insert zPrintAnX} -count {#INPUT -head How many x-s? -single}}
zPrint2Xs -- zPrintAnX, two times
{#insert zPrintAnX}{#insert zPrintAnX}
zPrint3Xs -- zPrintAnX, three times
{#insert zPrint2Xs}{#insert zPrintAnX}</PRE>

<H3>Compression: <CODE>&quot;c2pl*&quot;</CODE></H3>

<P>To compress them, place the cursor in the first line and execute either <CODE>&quot;c2pl5&quot;</CODE> (type <CODE>&quot;c2pl5&quot;</CODE>, and its configured postfix, which by default is the accent key: <CODE>'<B>`</B>'</CODE>--<CODE>zACCENT</CODE>) or <CODE>&quot;c2pln&quot;</CODE> (providing a <CODE>'5'</CODE> at the prompt). This climbs through each phrase, compressing them one by one. The cursor is left at the bottom.</P>

<PRE STYLE="background-color:#E1E1E1;">zPrintAnX -- Prints a lowercase 'x'	x	zPrintAnX
zPrintALowerX -- zPrintAnX ALT KC	{#insert zPrintAnX}	zPrintALowerX
zPrintXsWPrompt -- # determined by user-prompt	{#LOOP {#insert zPrintAnX} -count {#INPUT -head How many x-s? -single}}	zPrintXsWPrompt
zPrint2Xs -- zPrintAnX, two times	{#insert zPrintAnX}{#insert zPrintAnX}	zPrint2Xs
zPrint3Xs -- zPrintAnX, three times	{#insert zPrint2Xs}{#insert zPrintAnX}	zPrint3Xs
<B><I>[CURSOR]</I></B></PRE>

<H3>Uncompression: <CODE>&quot;u2pl*&quot;</CODE></H3>

<P>To uncompress the phrases, place the cursor in the top phrase, and execute <CODE>&quot;u2pln&quot;</CODE> (giving a <CODE>'5'</CODE> at the prompt), or place the cursor <I>anywhere</I>, and execute <CODE>&quot;u2plall&quot;</CODE>. <CODE>&quot;u2plall&quot;</CODE> assumes <I>every</I> line in the phrase-file is a phrase-line.</P>

<P>Uncompression is done with a regular expression repalcement. Although it will likely work even when there are non-phrase-lines in the selected range (the regular expression has a strict format) it is a risk.</P>

<H3>Recompression: <CODE>&quot;u2pl*&quot;</CODE></H3>

<P>As with <A HREF="#one">single phrase-lines</A>, multiple phrases can be recompressed by either uncompressing-and-then-compressing them again, or by directly re-compressing. This is done by either<UL>
	<LI>placing the cursor in the top line and executing <CODE>&quot;r2pln&quot;</CODE>, or</LI>
	<LI>with the cursor anywhere, executing <CODE>&quot;r2plall&quot;</CODE>. <I>As will <CODE>&quot;u2plall&quot;</CODE>, this is a risk when there are non-phrase-lines in the file.</I></LI>
</UL></P>

<PRE>

<HR/>

</PRE>
<a name="dnensx"/><H2><CODE>[<A HREF="#contents">BACK</A>]</CODE> &nbsp; Additional issues with multiple phrase-lines: <CODE>&quot;dnenx&quot;</CODE> and <CODE>&quot;dnens&quot;</CODE></CODE></H2>

<P>Looking at multiple phrases without any line-separation is very busy:</P>

<PRE STYLE="background-color:#E1E1E1;">
zPrintAnX -- Prints a lowercase 'x'	x	zPrintAnX
zPrintALowerX -- zPrintAnX ALT KC	{#insert zPrintAnX}	zPrintALowerX
zPrintXsWPrompt -- # determined by user-prompt	{#LOOP {#insert zPrintAnX} -count {#INPUT -head How many x-s? -single}}	zPrintXsWPrompt
zPrint2Xs -- zPrintAnX, two times	{#insert zPrintAnX}{#insert zPrintAnX}	zPrint2Xs
zPrint3Xs -- zPrintAnX, three times	{#insert zPrint2Xs}{#insert zPrintAnX}	zPrint3Xs</PRE>

<P>To make this clearer, consider sorting it, and separating each phrase with an empty line:</P>

<PRE STYLE="background-color:#E1E1E1;">zPrint2Xs -- zPrintAnX, two times	{#insert zPrintAnX}{#insert zPrintAnX}	zPrint2Xs

zPrint3Xs -- zPrintAnX, three times	{#insert zPrint2Xs}{#insert zPrintAnX}	zPrint3Xs

zPrintALowerX -- zPrintAnX ALT KC	{#insert zPrintAnX}	zPrintALowerX

zPrintAnX -- Prints a lowercase 'x'	x	zPrintAnX

zPrintXsWPrompt -- # determined by user-prompt	{#LOOP {#insert zPrintAnX} -count {#INPUT -head How many x-s? -single}}	zPrintXsWPrompt</PRE>

<P>The convenience functions <CODE>&quot;dnens&quot;</CODE> (when there are no empty-lines in the document) and <CODE>&quot;dnenx&quot;</CODE> (for when there are empty-lines) do this for you. Execute either at any time, as long as <I>all phrases</I> in the current file are compressed. The entire document is sorted, and then empty lines are placed between each phrase.</P>

<P><I>(While the basic <CODE>&quot;dnen&quot;</CODE> phrase is a bootstrap in the XBNPE/XKP-Project, the <CODE>&quot;dnen[s,x]&quot;</CODE> phrases are part of the XBNPE-CWLPDF project.)</I></P>

<PRE>




























</PRE>
</BODY></HTML>



