<HTML><HEAD>
	<TITLE>XBNPE: TextPad & tp-bootstraps</TITLE>
	<meta name="viewport" content="width=device-width" />
</HEAD>

<BODY BGCOLOR="#FFFFFF" LINK="#0000FF" VLINK="#0000FF"><a name="top"></a>

<P>[<A HREF="index.html">BACK</A>]<CODE> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </CODE><I>(XBN-PhraseExpress is released under the <A HREF="index.html#lpgl">LPGL 2.1</A>)</I>

<HR/>

<H1>Developing PhraseExpress in TextPad only</H1>
<H2>(and TextPad-bootstraps)</H2>

<P>I do not edit my phrases in the PhraseExpress application. I only edit them in <A HREF="http://textpad.com">TextPad</A> (a plain-text editor by Helios Software Solutions). Whenever I make a change to a phrase, I <A HREF="plain_text_phrase_files.html#import1">import it</A> into the PhraseExpress application before it can be used. This is akin to &quot;compiling&quot; the code.</P>

<P><B>Contents:</B><UL>
	<LI><B>Required TextPad settings:</B><UL>
		<LI><CODE>[<A HREF="#randomsettings">go</A>]</CODE> &nbsp; Various requirements of specific processes and functions.</LI>
		<LI><CODE>[<A HREF="#txtdcsettings">go</A>]</CODE> &nbsp; Text <CODE>&quot;*.txt&quot;</CODE> document class-related settings</LI>
	</UL></LI>
	<LI><CODE>[<A HREF="#nopexapp">go</A>]</CODE> &nbsp; Why I do not edit phrases in PhraseExpress</LI>
	<LI><CODE>[<A HREF="#devenv">go</A>]</CODE> &nbsp; My personal development environment</LI>
	<LI><CODE>[<A HREF="#tpbs">go</A>]</CODE> &nbsp; XBN-PhraseExpress: <B>TextPad-bootstraps</B></LI>
</UL></P>

<P>While XBN-PhraseExpress is tailored to creating and editing code in TextPad, although there are large portions of it that may be taken andvantage of by those developing exclusively in the PhraseExpress application (or elsewhere).</P>

<P><I>Also note that I use the <A HREF="http://en.wikipedia.org/wiki/Dvorak_Simplified_Keyboard">Dvorak</A> keyboard layout, which may explain the otherwise unweildy autotexts I've chosen, and <B>does</B> explain why I must use
<BR> &nbsp; &nbsp; <CODE>{#insert zTPPaste}</CODE>
<BR>instead of
<BR> &nbsp; &nbsp; <CODE>{#CLIPBOARD -paste}</CODE>.</I></P>


<PRE>

<HR/>

</PRE>
<A NAME="randomsettings"/><H2><CODE>[<A HREF="#top">top</A>]</CODE> &nbsp; TextPad settings: Various requirements of specific processes and functions</H2>

<P>In addition to settings related to the <A HREF="#txtdcsettings">text document-class</A>, there are some additional requirements specific to particular features and functions:<UL>
	<LI>The TPKC-build-process (specifically, sub-procs-02 and 15), and the <A HREF="search_and_replace/index.html#fifxmpls">find-in-files example code</A> expect the find-in-files Search Results window to be <I>undocked</I>. Therefore
	<BR> &nbsp; &nbsp; <CODE>TextPad &gt; Configure &gt; Preferences &gt; View &gt; Dockable log windows &gt; Search Results</CODE>
	<BR>must be unchecked during (at least) this process. <I>You are warned of this before the process starts.</I></LI>
	<LI>The TPKC process (sub-build-proc-15) expects the following menu items to exist, with the indicated trigger-letters:<UL>
		<LI><CODE>[S]earch &gt; Invert [A]ll Bookmarks</CODE></LI>
		<LI><CODE>[E]dit &gt; De[L]ete &gt; [B]ookmarked-lines</CODE></LI>
	</UL>These menu items must exist at least during this process. <I>You are warned of this when the process starts.</I></LI>
</UL></P>
<PRE>

<HR/>

</PRE>
<A NAME="txtdcsettings"/><H2><CODE>[<A HREF="#top">top</A>]</CODE> &nbsp; Required TextPad settings: Text <CODE>&quot;*.txt&quot;</CODE> document class</H2>

<P><A HREF="plain_text_phrase_files.html#fformat">Plain-text phrase-files</A> must have the postfix <CODE>&quot;px.txt&quot;</CODE>. Because of this, phrase-files by default belong in the <CODE>&quot;*.txt&quot;</CODE> plain-text document class:
<BR> &nbsp; &nbsp; <CODE>TextPad &gt; Configure &gt; Preferences &gt; Document Classes &gt; Text</CODE>
<BR>There are three critical settings as it relates to XBN-PhraseExpress:<UL>
	<LI><CODE>[<A HREF="#tptxtdcstrip">go</A>]</CODE> &nbsp; Stripping trailing spaces when saving</LI>
	<LI><CODE>[<A HREF="#tptxtdcww">go</A>]</CODE> &nbsp; Word-wrapping long lines</LI>
	<LI><CODE>[<A HREF="#tptxtdcwwhard">go</A>]</CODE> &nbsp; Saving word-wrapped text with no hard-breaks</LI>
</UL></P>

<P><IMG SRC="images/prefs_text_doc_class_ww_strip_ws.jpg" BORDER="1"/></P>

<PRE>

<HR/>

</PRE>
<A NAME="tptxtdcstrip"/><H2><CODE>[<A HREF="#txtdcsettings">BACK</A>]</CODE> &nbsp; TextPad: Text document class setting: Strip trailing spaces from lines when saving</H2>

<P>Setting:
<BR> &nbsp; &nbsp; <CODE>TextPad &gt; Configure &gt; Preferences &gt; Document class options &gt;  Strip trailing spaces from lines when saving</CODE></P>
<P>This can be as you wish. Whatever setting you choose, however, it must be reflected in the <A HREF="index.html#glblcfg">XBNPE global-configuration-variable</A>
<BR> &nbsp; &nbsp; <CODE>zzTPTxtDefaultStripTrailingWSOnOrES</CODE></P>

<P>The consequence of <I>not</I> stripping trailing whitespace (tabs and spaces), is that processes that indeed need to strip trailing whitespace must do so manually. There are specific &quot;<A HREF="cwlpdf/file_manipulation.html#stripsave">strip-save</A>&quot; functions to assist you, which use this global configuration variable to determine if and when it should occur.</P>

<PRE>

<HR/>

</PRE>
<A NAME="tptxtdcww"/><H2><CODE>[<A HREF="#txtdcsettings">BACK</A>]</CODE> &nbsp; TextPad: Text document class setting: Word wrap long lines</H2>

<P>Setting:
<BR> &nbsp; &nbsp; <CODE>TextPad &gt; Configure &gt; Preferences &gt; Document class options &gt;  Word wrap long lines</CODE></P>

<P>This can also be as you wish, and must also be reflected in a global-configuration-variable:
<BR> &nbsp; &nbsp; <CODE>zzTPTxtDefaultWordWrapOnOrES</CODE></P>

<P>This is used by the <A HREF="cwlpdf/ww_with_state.html#tptxtdstate">set-word-wrap-based-on-the-TextPad-default</A> phrases, such as
<BR> &nbsp; &nbsp; <CODE>zWordWrapOffFromTPDfltState</CODE></P>


<PRE>

<HR/>

</PRE>
<A NAME="tptxtdcwwhard"/><H2><CODE>[<A HREF="#txtdcsettings">BACK</A>]</CODE> &nbsp; TextPad: Text document class setting: Saving word-wrapped text with no hard-breaks</H2>

<P>Setting:
<BR> &nbsp; &nbsp; <CODE>TextPad &gt; Configure &gt; Preferences &gt; Document class options &gt; Word wrapped text &gt; Save with no breaks in line</CODE></P>

<P>This setting must be selected (&quot;Save with hard breaks&quot; must be unselected), in order for many of the XBNPE build processes to succeed. In particular, the TPKC-build-process will fail if this setting is on (as will most processes that somehow save files without turning word wrap off first).</P>



<PRE>

<HR/>

</PRE>
<a name="devenv"/><H3>[<A HREF="#top">top</A>] &nbsp; My development environment</CODE></H3>

<P>In 2013, I discovered the free-and-open-source <A HREF="http://virtuawin.sourceforge.net">VirtuaWin</A>. It creates multiple desktops on a single monitor, effectively simulating multiple monitors. I use this to create three desktops. I use the key-commands <CODE><A HREF="xbnpe_key_presses__xkp.html">zCASpRIGHT</A></CODE> to move to higher-numbered desktops (such as one to two), and <CODE>zCASpLEFT</CODE> to move the other direction. In general, here is my setup:</P>

<H4><U>Desktop one: Viewing documentation</U></H4>

<H4><U>Desktop two: Editing code</U></H4>

<P>I have one or more instances of TextPad open in this desktop. I also have an <A HREF="http://zabkat.com/">Xplorer2</A> window open, to quickly access files. Xplorer2 is a Windows Explorer replacement.</P>

<H4><U>Desktop three: Importing code into PhraseExpress.</U></H4>

<P>On this desktop, I always have two Windows Explorer windows open. The directory for both is
<BR> &nbsp; &nbsp; <CODE>{#insert zROOT_DIR_XBNPE_MAIN}</CODE>
<BR>One has this search-term:
<BR> &nbsp; &nbsp; <CODE>*.px.txt datemodified:7/27/2013</CODE> <I>(today's date)</I>
<BR>and the other has this:
<BR> &nbsp; &nbsp; <CODE>*_pcddmenu.px.txt datemodified:7/27/2013</CODE>
<BR>These Explorer windows are on the left of my screen, always open (meaning never minimized), and PhraseExpress, when opened, is on their right. These search terms cause <A HREF="plain_text_phrase_files.html#mrchanged">most-recently-edited phrase-files to automatically display</A>. This setup makes <A HREF="plain_text_phrase_files.html#import1">importing</A> the phrase-files that I'm working on as easy as possible.</P>

<P>Note that the latter search term is for <A HREF="xbnpe_ddmenus.html#xh">xh-phrase-creator drop-down menu</A> phrase-files. Separating &quot;<A HREF="xbnpe_phrase_types.html#normal">normal</A>&quot; phrase-files from <A HREF="xbnpe_phrase_types.html#ddmitem">drop-down-menu</A> phrase-files (although ddmenu phrase-files can't be filtered out of the general <CODE>&quot;*.px.txt&quot;</CODE> list) is because these phrase-types require different settings in PhraseExpress. For example, ddmenu phrases are &quot;manually confirmed&quot; and normal phrases are not. Importing these phrase types together requires that the settings for one or the other must always be changed after the import is complete. Note that in XBN-PhraseExpress, normal and <CODE>&quot;pcddmenu&quot;</CODE> phrases are always stored in separate locations.</P>

<PRE>

<HR/>

</PRE>
<a name="nopexapp"/><H3>[<A HREF="#top">top</A>] &nbsp; Why I do not edit phrases in PhraseExpress</H3>

<P>There are two primary reasons that I do not edit phrases in PhraseExpress.</P>

<H4><U>Reason 1 of 2: No regular expressions in PhraseExpress</U></H4>

<P>There is no way to search or replace using regular expressions in the PhraseExpress application. In particular there is no way to make replacements on <I>any</I> set of files, whether they are in one common parent-directory, or dispersed througout many directories. For me, this is a critical need.</P>

<H4><U>Reason 2 of 2: Many import options, only one export option.</U></H4>

<P>While PhraseExpress has many ways of importing phrases...</P>

<P><IMG SRC="images/import_many_options.jpg" BORDER="1"/></P>

<P>...there is only one way to export it: Into a proprietary PhraseExpress format.</P>
<P><IMG SRC="images/export_only_one_option.jpg" BORDER="1"/></P>

<P>Therefore, any phrases created in PhraseExpress exclusively, are trapped there. While copying a few phrases out of PhraseExpress is manageable...<OL>
	<LI>Copy the description and paste it at the beginning of the phrase-body, then press enter.</LI>
	<LI>Copy the autotext, and paste it at the end of the phrase-body, separated by a newline.</LI>
	<LI>Copy the phrase-text and paste it into a text document.</LI>
</OL></P>

<P>...copying hundreds of phrases in this manner is practically impossible.</P>

<P>In addition, there are significant difficulties associated with <A HREF="plain_text_phrase_files.html#importmulti">importing multiple files</A>. In addition to your code being &quot;trapped&quot; in PhraseExpress, the values in the <A HREF="plain_text_phrase_files.html#import2of8">choose-import-action dialog</A> must be chosen on every import, and in the <A HREF="plain_text_phrase_files.html#import3of8">import-phrase-format dialog</A>, values must be chosen for every file.</P>

<PRE>

<HR/>

</PRE>
<A NAME="tpbs"/><H2><CODE>[<A HREF="#top">top</A>]</CODE> &nbsp; XBN-PhraseExpress: TextPad-bootstraps</H2>

<P>A &quot;<B>TextPad Bootstrap</B>&quot; (&quot;tp-bootstrap&quot;) is a <I>TextPad built-in command</I> that is depended on by an XBN-PhraseExpress project. Specifically, all tp-bootstraps required by a project must be installed before installing the project itself. TextPad-bootstraps are what <A HREF="http://youtu.be/EhU862ONFys?t=56s">make it possible</A> for XBN-PhraseExpress and TextPad to communicate.

<P><B>Contents:</B><UL>
	<LI><CODE>[<A HREF="#tpbsformat">go</A>]</CODE> &nbsp; Format and requirements<UL>
		<LI><CODE>[<A HREF="#tpbsmain">go</A>]</CODE> &nbsp; Main phrase</LI>
		<LI><CODE>[<A HREF="#tpbsesc">go</A>]</CODE> &nbsp; Escaped (literalized) phrase</LI>
		<LI><CODE>[<A HREF="#tpbstpk">go</A>]</CODE> &nbsp; TextPad key-press phrase</LI>
		<LI><CODE>[<A HREF="#tpbsconfigure">go</A>]</CODE> &nbsp; Configuring tp-bootstraps specifically for the XKP (or TPKC) project</LI>
		<LI><CODE>[<A HREF="#tpbslocations">go</A>]</CODE> &nbsp; Phrase and file locations</LI>
	</UL></LI>
	<LI><CODE>[<A HREF="#tpbsutils">go</A>]</CODE> &nbsp; Utilities</LI>
	<LI><CODE>[<A HREF="#tpbsxkptpkc">go</A>]</CODE> &nbsp; TextPad-bootstraps, as documented in this section, are <I><B><U>only applicable to the XKP and TKPC projects</U></B></I>.<UL>
		<LI><CODE>[<A HREF="xbnpe_key_presses__xkp.html#tpbs">go</A>]</CODE> &nbsp; The tp-bootstrap list for the <A HREF="xbnpe_key_presses__xkp.html">XBNPE-Key-Press (XKP) project</A></LI>
		<LI><CODE>[<A HREF="textpad__tpkc/index.html#tpbs">go</A>]</CODE> &nbsp; The tp-bootstrap list for the <A HREF="textpad__tpkc/index.html">TextPad built-in commands (TPKC) project</A></LI>
	</UL></LI>
	<LI><CODE>[<A HREF="#tpbschars">go</A>]</CODE> &nbsp; Commands in the &quot;Characters&quot; category may not be TextPad-bootstraps</LI>
	<LI><CODE>[<A HREF="#tpbsaddsteps">go</A>]</CODE> &nbsp; Steps to add a new tp-bootstrap (for XBNPE-admins only)</LI>
</UL></P>

<H3>Terminology</H3>
<P>A &quot;<B>TextPad-bootstrap</B>&quot; is a built-in TextPad command that <B>has a &quot;bootstrap key-command&quot;</B>. A &quot;<B>Non-BootStrap command</B>&quot; (an &quot;<B>nbs-command</B>&quot;) is a command that is not a tp-bootstrap. A command that is not a tp-bootstrap may or may not have nbs-key-commands (nbs-kcs). An &quot;<B>nbs phrase</B>&quot; is a phrase that triggers a TextPad built-in command, that is not a tp-bootstrap (that does not have a bootstrap-kc). The &quot;<B>primary key-command</B>&quot; for a TextPad command is:<UL>
	<LI><B>if it is a tp-bootstrap:</B> The bootstrap-kc</LI>
	<LI><B>if it is not a tp-bootsrap:</B> nbs-kc number one.</LI>
</UL>If it has no kc-s (is not a bootstrap, and its nbs-kc count is zero), it has no primary-kc.</P>

<PRE>

<HR/>

</PRE>
<A NAME="tpbsaddsteps"/><H2><CODE>[<A HREF="#tpbs">BACK</A>]</CODE> &nbsp; TextPad-bootstraps: Steps for adding a new tp-bootstrap (for XBNPE-admins only)</H2>

<P><I>(See: <A HREF="#tpbslocations">tp-bootstrap locations</A>)</I></P>

<P><I>Note that this section is meant for XBNPE administrators (developers) only.</I></P>

<P><OL>
	<LI>Remove that TextPad command from its current location (its current phrase-file), and place it into the <A HREF="#tpbsmain">main</A> tp-bootstrap file for either the <A HREF="xbnpe_key_presses__xkp">XKP</A> or <A HREF="textpad__tpkc/index.html">TPKC</A> project (<I>for <B>all</B> users in
	<BR> &nbsp; &nbsp; <CODE>{#insert zXPROOT_DIR_tpkc}/textpad__tpkc/for_v_7_0_9/user_config/</CODE>
	<BR>!!!</I>).</LI>
	<LI>Create its corresponding &quot;non-main&quot; phrases (<CODE>&quot;<A HREF="#tpbsesc">Esc</A>&quot;</CODE> and <CODE>&quot;<A HREF="#tpbstpk">TPKeys</A>&quot;</CODE>)</LI>
	<LI>Add it to the regular expression for marking lines in the tp-all-cmd-list, in the tpbs section in XKP and TPKC.</LI>
	<LI>Change its raw global config from, for example:
	<BR> &nbsp; &nbsp; <CODE>BookmarkPrev	zTPBookmarkGTPrev	Srchmkprv	<B>__ES__</B>	100	{#insert zDOWN3}</CODE>
	<BR>to
	<BR> &nbsp; &nbsp; <CODE>BookmarkPrev	zTPBookmarkGTPrev	Srchmkprv	<B>yes</B>	100	{#insert zDOWN3}</CODE>
	<BR>and either<UL>
		<LI>Run the entire TPKC-build-process from 02 through 14, </LI>
		<LI>or:<OL>
			<LI>Run TPKC-build-process 02.</LI>
			<LI>Update (for example)
			<BR> &nbsp; &nbsp; <CODE>zTpkcSrchmkprvIsBtstrp_yes</CODE>
			<BR>in
			<BR> &nbsp; &nbsp; <CODE>{#insert zXPROOT_DIR_AG_tpkc}\cmd_cfg_global__bldprc06\search\search_BookmarkPrev.px.txt</CODE>
			<BR>from <I>nothing</I> (the empty-string) to &quot;<B>yes</B>&quot;.</LI>
			<LI>Import both
			<BR> &nbsp; &nbsp; <CODE>search_BookmarkPrev.px.txt</CODE>
			<BR>and the phrase-file output by build-proc-02.</LI>
		</OL></LI>
	</UL></LI>
	<LI>Add a test to the appropriate tp-bootstrap testing script (either
	<BR> &nbsp; &nbsp; <CODE>zTestAllXKPTextPadBootstraps</CODE>
	<BR>or
	<BR> &nbsp; &nbsp; <CODE>zTestAllTpkcTextPadBootstraps</CODE>
	<BR>). If this command was in the TPKC project, and is being moved to the XKP project, then its <A HREF="textpad__tpkc/index.html#tpkcumac1ctest">TPKC-test</A> must be changed from <A HREF="textpad__tpkc/index.html#tpkcumac1ctestnbs">Non-BootStrap</A> to <A HREF="textpad__tpkc/index.html#tpkcumac1ctesttpbs">bootstrap</A>.</LI>
	<LI>Delete all TPKC-nbs phrase files (as output by build-proc-14). <I>(At the very least, delete these tp-bootstrap phrases from them, at least in PhraseExpress. <B>Not</B> deleting them will cause conflicts when running the tp-bootstrap test in the next step.)</I></LI>
	<LI>Import the new tp-bootstrap tests and run it!</LI>
	<LI>All tp-bootstraps, <I>regardless which project they are bootstraps for</I>, are listed in the TPKC ddmenu-file:
	<BR> &nbsp; &nbsp; <CODE>{#insert zXPROOT_DIR_tpkc}/textpad__tpkc/for_v_7_0_9/user_config/<A HREF="../textpad__tpkc/for_v_7_0_9/user_config/tp_ALL_cmds_pcddmenu.txt">tp_ALL_cmds_pcddmenu</A>.txt</CODE>
	<BR>(Note that this is the <U>input</U> file for TPKC-build-proc-15.) If not there yet, add <CODE>&quot;[BS]&quot;</CODE> to its ddmenu-entry.</LI>
	<LI>Run TPKC-build-processes 10 through 14 (and, less critically, 15)--<I>for all users</I>.</LI>
	</OL></LI>
	<LI>Notify all users of this change and the steps they need to take. They're not going to like you very much.</LI>
</OL></P>

<PRE>

<HR/>

</PRE>
<A NAME="tpbsxkptpkc"/><H2><CODE>[<A HREF="#tpbs">BACK</A>]</CODE> &nbsp; TextPad-bootstraps, as documented in this section, are only applicable to the XKP and TKPC projects</H2>

<P>While <I>all</I> XBNPE projects have TextPad-bootstraps only the XKP and TPKC projects require them to be in the form as described in this section. Once the TPKC project is installed and fully built (that is, once you have successfully run all build processes through at least 14, and <A HREF="plain_text_phrase_files.html#import1">imported</A> all its output phrase-files), &quot;installing&quot; a TextPad-bootstrap is simply a matter of assigning that particular TextPad-command a key-command via the TPKC project:<OL>
	<LI>Actually assigning the key-command via
		<BR> &nbsp; &nbsp; <CODE>Textpad &gt; Configure &gt; Preferences &gt; Keyboard</CODE>
		<BR>For example, assign
		<BR> &nbsp; &nbsp; <CODE>Categories &gt; &quot;Cursor&quot; &gt; Commands &gt; &quot;PageDown&quot;</CODE>
		<BR>to
		<BR> &nbsp; &nbsp; <CODE>Pgdown</CODE></LI>
	<LI>Updating your TPKC user-command-configuration to reflect this assignment:<OL>
		<LI>In
		<BR> &nbsp; &nbsp; <CODE>zTpkcPageDownNbsKcCount</CODE>
		<BR>from <CODE>'0'</CODE> to <CODE>'1'</CODE> <I>(it must be currently zero, because zero means it has no key-commands!)</I>, and</LI>
		<LI>creating its corresponding key-command phrase:
		<BR> &nbsp; &nbsp; <CODE><B><U>zTpkcPageDownNbsKcEsc1</U></B>
		<BR> &nbsp; &nbsp; \\\{#insert zPGDN\\\}	</CODE></LI>

	</OL></LI>
	<LI>Executing TPKC build-process 14 and importing the output phrase-files.</LI>
</OL></P>

<PRE>

<HR/>

</PRE>
<A NAME="tpbschars"/><H2><CODE>[<A HREF="#tpbs">BACK</A>]</CODE> &nbsp; Commands in the &quot;Characters&quot; category may not be TextPad-bootstraps</H2>

<P>The &quot;Characters&quot; category is the only one in which commands do not have names. Instead, the &quot;name&quot; of each command is the character itself. This is unacceptable to the TPKC build process, which therefore changes each to a specific name. For example, <CODE>'Ã'</CODE> is changed to <CODE>&quot;Char14AUpperTilde&quot;</CODE>. Since this translation does not occur until after the TPKC-project is installed <I>and built</I> (meaning all build processes from 02 through 14 are successfully executed), no commands in this category may not be used as TextPad-bootstraps, until after all TPKC build processes have been successfully executed.</P>

<P><I>Note that this restriction <A HREF="#tpbsxkptpkc">only applies to the XKP and TPKC projects</A>.</I></P>

<P><IMG SRC="images/char_cat_in_tp_prefs.jpg" BORDER="1"/></P>

<PRE>

<HR/>

</PRE>
<A NAME="tpbsformat"/><H2><CODE>[<A HREF="#tpbs">BACK</A>]</CODE> &nbsp; TextPad-bootstrap: Format and requirements</H2>


<P>An example TextPad-bootstrap (<I>which are <A HREF="#tpbslocations">split into two files</A></I>):</P>

<PRE STYLE="background-color:#E1E1E1;"><B><U>zTPCopy</U></B> -- TextPad built-in command: Edit &gt; <B>EditCopy</B>
   {#CTRL -chars c}{#insert <A HREF="phrase_express/debugging.html#keypressspeed">zTSlp</A>}{#sleep 10}
<B><U>zTPCopyEsc</U></B>
   \\\{#CTRL -chars c\\\}\\\{#insert zTSlp\\\}\\\{#sleep 10\\\}
<B><U>zTPCopyTPKeys</U></B>
   Ctrl+C</PRE>

<P><I>(This is displayed in <A HREF="phrase_express/phrase_compression.html#one">un-compressed</A> format. Also see <A HREF="plain_text_phrase_files.html#pformat">phrase-format specifications</A>.)</I></P>

<P>These three phrases, as a whole, define a TextPad-bootstrap.<OL>
	<LI><CODE>[<A HREF="#tpbsmain">go</A>]</CODE> &nbsp; <B>Main phrase:</B> <CODE>zTPCopy</CODE></LI>
	<LI><CODE>[<A HREF="#tpbsesc">go</A>]</CODE> &nbsp; <B>Escaped (literalized) phrase:</B> <CODE>zTPCopyEsc</CODE></LI>
	<LI><CODE>[<A HREF="#tpbstpk">go</A>]</CODE> &nbsp; <B>TextPad key-press phrase:</B> <CODE>zTPCopyTPKeys</CODE></LI>
</OL></P>

<P>Collectively, the escaped and tp-key-press phrases are called the &quot;non-main&quot; tp-bootsrap phrases.</P>

<P>To &quot;install&quot; a TextPad-bootstrap is to simply create (and then <A HREF="plain_text_phrase_files.html#import1">import</A>) these three phrases, and actually assign the configured key-command, via
<BR> &nbsp; &nbsp; <CODE>Textpad &gt; Configure &gt; Preferences &gt; Keyboard</CODE>
<BR><I>(See the screenshot below.)</I> Unfortunately, this is a largely manual process. For example, <CODE>&quot;<A HREF="phrase_express/phrase_compression.html">c2pl</A>&quot;</CODE> and its related utilities--along with everything else in XBN-PhraseExpress--are not available until at least the XKP-project is installed. Importantly, any errors in a tp-bootstrap will cause its depend-<I>ing</I> XBNPE-projects to fail--unpredictably, and without any diagnostic information. Each major XBNPE project, however, has a testing function to ensure that all bootstraps are, at least roughly, properly installed.</P>

<P><I>TextPad-bootstraps--as well a much of XBN-PhraseExpress--are only useful, and usable, from within the TextPad application.</I></P>

<P><IMG SRC="images/edit_copy_kc_in_tp_prefs.jpg" BORDER="1"/></P>

<PRE>

<HR/>

</PRE>
<A NAME="tpbsconfigure"/><H2><CODE>[<A HREF="#tpbs">BACK</A>]</CODE> &nbsp; TextPad-bootstraps: Configuring them specifically for the XKP (or TPKC) project</H2>

<P><I>The steps in this section must be run for the XKP-project first, and then again for the TPKC-project.</I></P>

<P>For every <A HREF="xbnpe_key_presses__xkp.html#tpbs">TextPad-bootstraps in the XKP-project</A> (or in the <A HREF="textpad__tpkc/index.html#tpbs">TPKC-project</A>):<OL>
	<LI>Assign it a key-command it TextPad, <I>or simply confirm that an <B>existing</B> key-command is sufficient</I>, via
	<BR> &nbsp; &nbsp; <CODE>TextPad &gt; Configure &gt; Preferences &gt; Keyboard &gt; Categories &gt; <I>[category-name]</I> &gt; Commands &gt; <I>[command-name]</I> &gt; &quot;Press a new shortcut key&quot; &gt; [Assign-button]</CODE></LI>
	<LI>When a key-command has been assigned to every tp-bootstrap, <A HREF="textpad__tpkc/index.html#tpaclcreate">print out the TextPad-all-command-list</A> (note that there is no need to duplicate or save the document at this time)</LI>
	<LI>Mark and copy all lines containing these tp-bootstraps (steps 1 through 5 can be done directly in the Tool Output document):<OL>
		<LI>Open the find-dialog and tick the &quot;Regular expression&quot; checkbox.</LI>
		<LI>Paste in the &quot;Regex for marking all in the TextPad all-command list&quot;, (at the top of <A HREF="xbnpe_key_presses__xkp.html#tpbs">XKP's tp-bootstrap section</A> [or <A HREF="textpad__tpkc/index.html#tpbs">TPKC</A>])</LI>
		<LI>Press the <CODE>[Mark All]</CODE> button.</LI>
		<LI>Copy all marked lines with <I>(assuming menus have default configuration):</I>
		<BR> &nbsp; &nbsp; <CODE>TextPad &gt; Edit &gt; Copy other &gt; Bookmarked lines</CODE></LI>
		<LI>Close the tp-all-command-list (the Tool Output window)</LI>
		<LI>Open a new document and paste the lines.</LI>
		<LI>Recommended: If any of these commands have more than one key-command, delete everyone except those you just assigned (or confirmed). For each TextPad command, exactly one key-command must be considered as &quot;primary&quot;.</LI>
	</OL></LI>
</OL></P>

<P>As an example, here is the resulting text for a &quot;fresh&quot; TextPad installation (as if TextPad was just installed, and no custom key-commands were assigned), for all tp-bootstraps in the XKP-project:</P>

<PRE STYLE="background-color:#E1E1E1;">DocumentStart           Ctrl+Home
EditCopy                Ctrl+C
EditCut                 Ctrl+X
EditDupLine             Ctrl+Shift+Alt+V
EditPaste               Ctrl+V
FileClose               Ctrl+W
FileNew                 Ctrl+N
FileSave                Ctrl+S
SelectAll               Ctrl+A
ToggleWordWrap          Ctrl+Q, W
WordLeftExtend          Ctrl+Shift+Left
WordRightEnd            Ctrl+Right
WordRightEndExtend      Ctrl+Shift+Right</PRE>

<P><OL START="4">
	<LI>Using these above lines as a guide, all the <A HREF="#tpbsmain">main</A>, <A HREF="#tpbsesc">escaped</A>, and <A HREF="#tpbstpk">tp-key</A> phrases must be created for each tp-bootstrap. Here are blank templates for the<UL>
		<LI>XKP project: <A HREF="../textpad__tpkc/for_v_7_0_9/user_config/_tpkc_user_dir_id__BLANK_TEMPLATE/tp_bootstraps_for_xkp_project.px.txt">main</A>,  <A HREF="../textpad__tpkc/for_v_7_0_9/user_config/_tpkc_user_dir_id__BLANK_TEMPLATE/tp_bootstraps_for_xkp_project_esc_tpk.px.txt">non-main</A></LI>
		<LI>TPKC project: <A HREF="../textpad__tpkc/for_v_7_0_9/user_config/_tpkc_user_dir_id__BLANK_TEMPLATE/tp_bootstraps_for_tpkc_project.px.txt">main</A>,  <A HREF="../textpad__tpkc/for_v_7_0_9/user_config/_tpkc_user_dir_id__BLANK_TEMPLATE/tp_bootstraps_for_tpkc_project_esc_tpk.px.txt">non-main</A></LI>
</LI>
	</UL></LI>
</OL></P>


<PRE>

<HR/>

</PRE>
<A NAME="tpbsutils"/><H2><CODE>[<A HREF="#tpbs">BACK</A>]</CODE> &nbsp; TextPad-bootstraps: Utilities</H2>

<P>All these utilities require the name of the <A HREF="#tpbsmain">main</A> tp-bootstrap phrase to be in a <A HREF="xbnpe_phrase_types.html#variable">variable</A> named
<BR> &nbsp; &nbsp; <CODE>zvBTSTRP_PHRS_NM</CODE></P>

<P><UL>
	<LI><B><CODE>zTPBtstrpEscKC_M_bspm</CODE>:</B> Gets the <A HREF="#tpbsesc">escaped key-command</A>, <I>after unescaping it</I></LI>
	<LI><B><CODE>zTPBtstrpEscPhrsNm_M_bspm</CODE>:</B> Gets the name of the phrase containing the escaped key-command.</LI>
	<LI><B><CODE>zTPBtstrpTPKeys_M_bspm</CODE>:</B> Gets the value of the <A HREF="#tpbstpk">TextPad key-press</A>.</LI>
	<LI><B><CODE>zTPBtstrpTPKeysPhrsNm_M_bspm</CODE>:</B> Gets the name of the phrase containing the TextPad key-press.</LI>
</UL></P>

<P><I>Phrase-creators for these utilities are available via <CODE><A HREF="xbnpe_ddmenus.html#xh">xh</A>tb</CODE>.</I></P>

<H3>Example</H3>

<P><I>Try this example now in a new TextPad document.</I></P>

<PRE STYLE="background-color:#E1E1E1;"><!--xcfexample...START  //  {#BALLOON -title tpbsutildemo -text About to start}{#sleep 2000}--><B><U>tpbsutildemo</U></B>
   {#SETPHRASE -description zvBTSTRP_PHRS_NM -content zTPCopy -autotext zvBTSTRP_PHRS_NM -folder ctvv_folder}
   {#insert zTPBtstrpEscPhrsNm_M_bspm}:{#ENTER}{#TAB}
      {#insert zTPBtstrpEscKC_M_bspm}{#ENTER}{#BKSP}
   {#insert zTPBtstrpTPKeysPhrsNm_M_bspm}:{#ENTER}{#TAB}
      {#insert zTPBtstrpTPKeys_M_bspm}{#ENTER}<!--xcfexample...END  //  XXX--></PRE>

<P>Output:</P>

<PRE STYLE="background-color:#E1E1E1;">zTPCopyEsc:
   {#CTRL -chars c}{#insert <A HREF="phrase_express/debugging.html#keypressspeed">zTSlp</A>}{#sleep 10}
zTPCopyTPKeys:
   Ctrl+C</PRE>

<PRE>

<HR/>

</PRE>
<A NAME="tpbslocations"/><H2><CODE>[<A HREF="#tpbs">BACK</A>]</CODE> &nbsp; TextPad-bootstraps: Phrase and file locations</H2>

<H3>On disk <I>(<A HREF="plain_text_phrase_files.html#fformat">plain-text phrase-files</A>)</I></H3>

<P>On disk, the phrase-files for <I>all</I> TextPad-bootstraps go into a single directory:
<BR> &nbsp; &nbsp; <CODE>{#insert <A HREF="textpad__tpkc/index.html#zXPROOT_DIR_tpkcUsrCfgUserBase_M_tpkcum">zXPROOT_DIR_tpkcUsrCfgUserBase_M_tpkcum</A>}</CODE></P>

<P>Note that all TextPad-bootstrap phrases, on a per-project basis, are required to be <B><U>split into two phrase-files</U></B>. Specifically, all &quot;<A HREF="#tpbsmain">main</A>&quot; phrases are placed in one file, and all &quot;non-main&quot; (<A HREF="#tpbsesc">escaped</A> and <A HREF="#tpbstpk">tp-keys</A>) phrases are placed in another. This makes it possible to execute the TPKC-build-process for ..................... multiple users.</P>

<P>The specific files in this directory are:<UL>
	<LI><B>XKP-Project only:</B><UL>
		<LI>Main tp-bootstrap phrases:
			<BR> &nbsp; &nbsp; <CODE><A HREF="../textpad__tpkc/for_v_7_0_9/user_config/tp_frsh_instl/tp_bootstraps_for_xkp_project.px.txt">tp_bootstraps_for_xkp_project.px.txt</A></CODE></LI>
		<LI>&quot;Non-main&quot; phrases:
			<BR> &nbsp; &nbsp; <CODE><A HREF="../textpad__tpkc/for_v_7_0_9/user_config/tp_frsh_instl/tp_bootstraps_for_xkp_project_esc_tpk.px.txt">tp_bootstraps_for_xkp_project_esc_tpk.px.txt</A></CODE></LI>
	</UL></LI>
	<LI><B>TPKC-Project only:</B><UL>
		<LI>Main tp-bootstrap phrases:
			<BR> &nbsp; &nbsp; <CODE><A HREF="../textpad__tpkc/for_v_7_0_9/user_config/tp_frsh_instl/tp_bootstraps_for_tpkc_project.px.txt">tp_bootstraps_for_tpkc_project.px.txt</A></CODE></LI>
		<LI>&quot;Non-main&quot; phrases:
			<BR> &nbsp; &nbsp; <CODE><A HREF="../textpad__tpkc/for_v_7_0_9/user_config/tp_frsh_instl/tp_bootstraps_for_tpkc_project_esc_tpk.px.txt">tp_bootstraps_for_tpkc_project_esc_tpk.px.txt</A></CODE></LI>
	</UL></LI>
</UL></P>

<H3>PhraseExpress folder (where all these phrase-files should be <A HREF="plain_text_phrase_files.html#import1">imported</A>)</H3>

<P>All tp-bootstrap phrase-files, for all projects, are imported to this one location in the PhraseExpress application:</P>

	<PRE>   XBNPE: Parent folder &gt;
      XBNPE: TextPad built-in commands (TPKC) &gt;
      	XBNPE-TPKC: User-spcfc phrases: [YOUR_TPKC_USER_DIR_NAME] &gt;
            User-specific command configuration</PRE></LI>


<PRE>

<HR/>

</PRE>
<A NAME="tpbsmain"/><H2><CODE>[<A HREF="#tpbsformat">BACK</A>]</CODE> &nbsp; TextPad-bootstrap: Main phrase</H2>

<P>All main tp-bootstrap phrases in a single project are placed in a <A HREF="#tpbslocations">single phrase-file</A></P>

<H3>XKP-project example</H3>

<PRE STYLE="background-color:#E1E1E1;"><B><U>zTPCopy</U></B> -- TextPad built-in command: Edit &gt; <B>EditCopy</B>
   {#CTRL -chars c}{#insert zTSlp}{#sleep 10}</PRE>

<P><I>The XKP-project requires <A HREF="xbnpe_key_presses__xkp.html#rawpexkc">&quot;raw&quot; PhraseExpress key-presses</A> in the phrase body, where each is followed by a call to <CODE><A HREF="phrase_express/debugging.html#keypressspeed">zTSlp</A></CODE></I></P>

<H3>TPKC-project example</H3>

<PRE STYLE="background-color:#E1E1E1;"><B><U>zTPFileOpen</U></B> -- TextPad built-in command: File &gt; <B>FileOpen</B>
   {#insert zCpOO}{#sleep 1750}</PRE>

<P><I>The TPKC-project requires <A HREF="xbnpe_key_presses__xkp.html">x-key-presses</A> (which automatically integrate a call to <CODE>zTSlp</CODE>).</I></P>

<H3>Requirements</H3>

<P><UL>
	<LI><B>Phrase name:</B> By convention, must begin with <CODE>&quot;zTP&quot;</CODE>. Example value:
	<BR> &nbsp; &nbsp; <CODE>zTPCopy</CODE></LI>
	<LI><B>Description:</B> States the specific TextPad command triggered by this phrase (preceeded by its category). Example value:
	<BR> &nbsp; &nbsp; <CODE>&nbsp;-- TextPad built-in command: Edit &gt; <B>EditCopy</B></CODE>
	<BR>It is strongly recommended that the description of every &quot;main&quot; TextPad-bootstrap phrase have exactly this format.</LI>
	<LI><B>Value:</B> The value (phrase-body) is the specific (set of) key-press(es) that triggers the built-in TextPad command<UL>
		<LI>Each individual key-press must be followed by a call to <CODE><A HREF="phrase_express/debugging.html#keypressspeed">zTSlp</A></CODE></LI>
		<LI>For key-commands with multiple key-presses, there must be <A HREF="textpad__tpkc/master_cfg_vars.html#zTpkcMillsBtwMultiKeyKCs">some sleep between each</A>.</LI>
		<LI>A <I>minimal</I> amount of sleep must be at the end of this phrase, so PhraseExpress does not continue until the command has finished executing. This should be an amount satisfactory for <I>most</I> situations. For extreme situations, simply append extra sleep after calling it. For example:
		<BR> &nbsp; &nbsp; <CODE>{#insert zTPCopy}{#sleep 50}</CODE></LI>
	</UL></LI>
</UL></P>


<PRE>

<HR/>

</PRE>
<A NAME="tpbsesc"/><H2><CODE>[<A HREF="#tpbsformat">BACK</A>]</CODE> &nbsp; TextPad-bootstrap: Escaped (literalized) phrase</H2>

<P>This and the <A HREF="#tpbstpk">TextPad-key-press</A> phrase are called the &quot;non-main&quot; tp-bootstrap phrases. All &quot;non-main&quot; (for a single project) must be placed in the same <A HREF="#tpbslocations">phrase-file</A>.</P>

<H3>Example</H3>
<PRE STYLE="background-color:#E1E1E1;"><B><U>zTPCopyEsc</U></B>
   \\\{#CTRL -chars c\\\}\\\{#insert zTSlp\\\}\\\{#sleep 10\\\}</PRE>

<H3>Requirements</H3>

<P><UL>
	<LI><B>Name:</B> Must be equal to the name of the tp-bootstrap's <A HREF="#tpbsmain">main phrase</A>, with an additional <CODE>'z'</CODE> at the beginning, and <CODE>&quot;Esc&quot;</CODE> at the end.
	<BR>Example value: <CODE>&quot;zTPCopyEsc&quot;</CODE></LI>
	<LI><B>Value:</B> Must be <I>exactly</I> equal to the value of the main-phrase, where each open and close-curly is preceded by three down-right-slashes (<CODE>'\'</CODE>). This is how you &quot;escape&quot; phrase-express code. For example, if the main-phrase's value is equal to
	<BR> &nbsp; &nbsp; <CODE>{#CTRL -chars c}{#insert zTSlp}{#sleep 10}</CODE>
	<BR>then the value of this escaped-phrase must be
	<BR> &nbsp; &nbsp; <CODE>\\\{#CTRL -chars c\\\}\\\{#insert zTSlp\\\}\\\{#sleep 10\\\}</CODE></LI>
</UL></P>

<P><I>(See the available tp-bootstrap <A HREF="#tpbsutils">utilities</A>.)</I></P>

<P>In order to diagnose key-command conflicts (two or more commands having the same key-command), it is important to be able to display the tp-bootstrap's key-command (the <I>value</I> of the <A HREF="#tpbsmain">main phrase</A>) to the user. Having this redundant escaped-version is the <A HREF="z_non_xbnpe_docs/pex_enhancement_requests.html#wishltrl">only way</A>. In particular, this is displayed in the various <A HREF="textpad__tpkc/index.html">TPKC</A> debugging utilites (the &quot;Debug&quot; and &quot;List&quot; commands), and in the &quot;Assign all KCs&quot; process when the pause-on-kc field flag is on (second screenshot below).</P>

<P>Escaped key-commands--both for tp-bootstraps and Non-BootStraps (nbs)--also make much of the TPKC build process possible. In particular, it makes it possible for TPKC adiminstrators to run the build process for ........ others.</P>

<PRE>

<HR/>

</PRE>
<A NAME="tpbstpk"/><H2><CODE>[<A HREF="#tpbsformat">BACK</A>]</CODE> &nbsp; TextPad-bootstrap: TextPad key-press phrase</H2>

<P>This and the <A HREF="#tpbsesc">escaped</A> phrase are called the &quot;non-main&quot; tp-bootstrap phrases. All &quot;non-main&quot; (for a single project) must be placed in the same <A HREF="#tpbslocations">phrase-file</A>.</P>

<H3>Example</H3>
<PRE STYLE="background-color:#E1E1E1;"><U>zTPCopyTPKeys</U></B>
   Ctrl+C</PRE>

<H3>Requirements</H3>

<H4><U>Name</U></H4>
<P>Must be equal to the name of the <A HREF="#tpbsmain">main</A> tp-bootstrap phrase, with an additional <CODE>'z'</CODE> at the beginning, and <CODE>&quot;TPKeys&quot;</CODE> at the end. Example value:
<BR> &nbsp; &nbsp; <CODE>zTPCopyTPKeys</CODE></P>

<H4><U>Value</U></H4>

<P>Must be the exact value printed in the TextPad &quot;all-command list&quot;, for this particular command. For example the built-in TextPad command
<BR> &nbsp; &nbsp; <CODE>EditCopy</CODE>
<BR>has a tp-bootstrap phrase name (the name of its <A HREF="#tpbsmain">main-phrase</A>) of:
<BR> &nbsp; &nbsp; <CODE>zTPCopy</CODE>
<BR>Its key-command, <I>as listed in TextPad</I>, is
<BR> &nbsp; &nbsp; <CODE>Ctrl+C</CODE></P>

<P>Since the value of this phrase is not PhraseExpress code, it should therefore have no sleep or calls to <CODE><A HREF="phrase_express/debugging.html#keypressspeed">zTSlp</A></CODE></P>

<P>Below are three screenshots.<OL>
	<LI>The TextPad preferences dialog, displaying the <CODE>&quot;EditCopy&quot;</CODE> command, and its key-command <CODE>&quot;Ctrl+J&quot;</CODE></LI>
	<LI>The output when pressing the <CODE>[List]</CODE> button. This button prints out all key-commands, for all commands in the currently-selected category. When the &quot;All&quot; category is selected, pressing the <CODE>[List]</CODE> results in the &quot;TextPad all-command list&quot;, which is needed by the initial <I>user facing</I> build-process in the <A HREF="textpad__tpkc/index.html">TPKC project</A>.</LI>
	<LI>A screenshot of the TPKC-user menu, focusing on the first build process. This process opens the &quot;TextPad all-command list&quot;, and automatically deletes the key-commands for <I>all</I> TextPad-bootstraps (for both the <A HREF="xbnpe_key_presses__xkp.html">XKP</A> and TPKC projects), <I>based on the values of these
	<BR> &nbsp; &nbsp; <CODE>zTP*TPKeys</CODE>
	<BR>tp-bootstrap phrases.</I></LI>
</OL></P>

<P><IMG SRC="images/edit_copy_kc_in_tp_prefs.jpg" BORDER="1"/></P>

<P><IMG SRC="images/tpkc_all_cmd_list_for_edit_copy.jpg" BORDER="1"/></P>

<P><IMG SRC="textpad__tpkc/linked_to_files/tpkcum_bldprocs.jpg" BORDER="1"/></P>
<PRE>




























</PRE>
</BODY></HTML>



