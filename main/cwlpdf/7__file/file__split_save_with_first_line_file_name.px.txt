__XBN-PhraseExpress is released under the LGPL 2.1	(*XBN-PhraseExpress: Large set of generically useful scripting tools for MS Windows, written in PhraseExpress and TextPad.  //  Copyright (C) 2013 Jeff Epstein  //  This library is free software; you can redistribute it and/or modify it under the terms of the GNU Lesser General Public License as published by the Free Software Foundation; either version 2.1 of the License, or (at your option) any later version.  //  This library is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Lesser General Public License for more details.  //  You should have received a copy of the GNU Lesser General Public License along with this library; if not, write to the Free Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA*)		(*Two tabs plus this comment, to force this phrase to be (a) imported, and (b) with NO autotext*)
(*
   Required by phrase-creator-ddmenu-utils...START
      PM_DDMENU_DIRID_FILENMPHRSNM_HDRAUTOTXT=cwlpdf/zzPmdmFNmPreCwlpdf/xhcfl
   Required by phrase-creator-ddmenu-utils...END
*)
splitsave1ln -- zzDupSplit1stLineFileNameMaster ALT KC	{#insert zzDupSplit1stLineFileNameMaster}	splitsave1ln

splitsave1lndemo	{#SETPHRASE -description zvDEMO_DIR_Y -content yes -autotext zvDEMO_DIR_Y -folder ctvv_folder}{#insert zzzSs1lnDemoIntroDlg}{#insert zzzSs1lnDemoOpenDupFileClearCB}{#insert zzzDupSplit1stLineFileNameMaster_M_ddy}	splitsave1lndemo

zz1lnIntroSetVars_M_ddy	{#MSGBOX -head splitsave1ln intro 1/2 START -text Beginning process 'splitsave1ln'. [1/2]  //  This file is the 1LN~master file~~if it's not, cancel this process now! Each block of non~empty lines (line~block or file~block) represents a single file. The first line is the file~name ONLY ('file_name.txt', not 'C:\directory\file_name.txt'), all following non~empty lines are the body of the file. Each file~block is separated by at least one empty~line.  //  The master file's text will be duplicated before processing.}{#MSGBOX -head splitsave1ln intro 2/2 START -text Beginning process 'splitsave1ln'. [2/2]    //  **WARNING** ~~ It is assumed that the ONLY thing done in this ss1ln~master document, since it was opened, was for 'splitsave1ln' to be typed into it (and triggered with its prefix-key). If this is not true~~or if you mis~typed it, and backspaced!~~this process will fail.  //  About to ask you [1]: To verify all find~flags, [2]: The number of files to process, [3]: The full directory~~including the final '\', into which these files should be saved (it should already be in the clipboard), and [4]: Request that you delete all the about~to~be~output files from that directory.  //  Then I will proceed. Press [OK] when ready.}{#SETPHRASE -description zvFILE_COUNT -content {#INPUT -head How many files to process? -single} -autotext zvFILE_COUNT -folder ctvv_folder}{#insert zz1lnSetPath_M_ddy}{#insert zzzSs1lnDelOutputFiles}	zz1lnIntroSetVars_M_ddy

zz1lnSetPath_M_ddy -- Needs zvDEMO_DIR_Y	{#SETPHRASE -description zvDIRECTORY -content {#INPUT -head Output directory? (must end w/ '\') -def {#COND -if {#insert zvDEMO_DIR_Y} = yes -then {#insert zXPROOT_DIR_AG_temp} -else} -single} -autotext zvDIRECTORY -folder ctvv_folder}	zz1lnSetPath_M_ddy

zz1lnSplitSaveNextFile_M_dirNumFcnt -- Needs zvDIRECTORY, zvNUMBER, zvFILE_COUNT	{#insert zvNUMBER_incBy1}{#BALLOON -title Please wait... -text Moving file-block {#insert zvNUMBER}/{#insert zvFILE_COUNT} to new file.}{#SETCLIPBOARD}{#insert zTPFindDlgOpen}{#insert zFindFlagRETgl}{#SETPHRASE -description zvFIND_WHAT -content ^\w -autotext zvFIND_WHAT -folder ctvv_folder}{#insert zvFIND_WHAT}{#insert zFindBtnNext}{#insert zFindFlagXSTgl}{#SETPHRASE -description zvFIND_WHAT -content \w\n\n -autotext zvFIND_WHAT -folder ctvv_folder}{#insert zvFIND_WHAT}{#insert zFindBtnNext}{#insert zFindFlagXSTgl}{#insert zFindDlgClose}(*Unselect extra new-line:*){#insert zTPSelectL1c}{#insert zTPCut}{#insert zFileNewPaste}{#insert zTPGTDocTop}{#insert zSelCopyEntireLineNoNL}{#insert zDEL2}{#SETPHRASE -description zvFILE_NAME -content {#INSERTCLIPBOARD} -autotext zvFILE_NAME -folder ctvv_folder}{#insert zDirFileSaveClose_M_dirFnm}	zz1lnSplitSaveNextFile_M_dirNumFcnt

zzDupSplit1stLineFileNameMaster	{#SETPHRASE -description zvDEMO_DIR_Y -content -autotext zvDEMO_DIR_Y -folder ctvv_folder}{#insert zzzDupSplit1stLineFileNameMaster_M_ddy}	zzDupSplit1stLineFileNameMaster

zzzDupSplit1stLineFileNameMaster_M_ddy -- Needs zvDEMO_DIR_Y	{#insert zTPGTDocTop}{#insert zz1lnIntroSetVars_M_ddy}{#insert zUndo2DupCurrFileTextToNewFileCloseOrig}{#insert zFindDialogFlagPreCheck}{#insert zvNUMBER_st0}{#LOOP {#insert zz1lnSplitSaveNextFile_M_dirNumFcnt} -count {#insert zvFILE_COUNT}}{#insert zzzOpenFindCheckWrapSrchClose}{#BALLOON -title Please wait... -text All files processed. About to close the (duplicated and now EMPTY) master file, and opening the output directory.}{#sleep 3000}{#insert zFileCloseDiscardChanges}{#insert zOpenExplorerDir_M_dir}{#MSGBOX -head splitsave1ln DONE -text splitsave1ln DONE. Output directory is now open in a Windows Explorer window.}	zzzDupSplit1stLineFileNameMaster_M_ddy

zzzOpenFindCheckWrapSrchClose	(*Extend selection forces wrap-search to uncheck.*){#insert zFindDlgOpen}{#insert zFindFlagWrapSearchTglRAW}{#insert zFindDlgClose}	zzzOpenFindCheckWrapSrchClose

zzzSs1lnDelOutputFiles	{#SETPHRASE -description zvDIRECTORY -content {#insert zXPROOT_DIR_AG_temp} -autotext zvDIRECTORY -folder ctvv_folder}{#insert zFileOpenDlgGTDir_M_dir}{#MSGBOX -head Delete about~to~be~output files -text Delete all about~to~be~output~files from this directory (and close them if they're currently open!). I cannot yet know the names of these files, otherwise I would highlight them for you. Press [OK] when all files deleted.}{#insert zEscThenFcsTP}	zzzSs1lnDelOutputFiles

zzzSs1lnDemoIntroDlg	{#MSGBOX -head splitsave1ln DEMO -text splitsave1ln demonstration. This requires the XBNPE-global-configuration variable 'zXPROOT_DIR_AG_temp' (current value: '{#insert zXPROOT_DIR_AG_temp}'), as configured in 'xbnpe\xbnpe_xkp\configuration\xbnpe__directory_config_do_not_edit_this.px.txt'. All output files will be saved into this directory.}	zzzSs1lnDemoIntroDlg

zzzSs1lnDemoOpenDupFileClearCB	{#BALLOON -title Please wait... -text Opening demonstration 1ln-master-file.}{#SETPHRASE -description zvDIRECTORY -content {#insert zXPROOT_DIR_cwlpdf}7__file\ -autotext zvDIRECTORY -folder ctvv_folder}{#SETPHRASE -description zvFILE_NAME -content zz_ss1ln_master__demo_input.txt -autotext zvFILE_NAME -folder ctvv_folder}{#insert zDirFileOpen_M_dirFnm}	zzzSs1lnDemoOpenDupFileClearCB
